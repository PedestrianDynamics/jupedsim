
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/logo.png" sizes="482x536" rel="icon" type="image/png">
    <title>Lane formation in bi-directional flow &#8212; JuPedSim  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=d742c9ce" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/lane-formation';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://www.jupedsim.org/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'v1.3.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Modelling Motivation" href="motivation.html" />
    <link rel="prev" title="How to work with Journeys" href="journey.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
    
    <img src="../_static/jupedsim.svg" class="logo__image only-light" alt="JuPedSim  documentation - Home"/>
    <script>document.write(`<img src="../_static/jupedsim.svg" class="logo__image only-dark" alt="JuPedSim  documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/PedestrianDynamics/jupedsim" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/jupedsim/" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://img.shields.io/pypi/v/jupedsim" class="icon-link-image" alt="PyPI"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://doi.org/10.5281/zenodo.1293771" title="DOI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.1293771.svg" class="icon-link-image" alt="DOI"/></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../concepts/index.html">Concepts</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/geometry.html">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/routing.html">Routing</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../pedestrian_models/index.html">Pedestrian Models</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Notebooks</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model-comparison.html">Comparative Analysis of Pedestrian Dynamics Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="corner.html">Movement around Corners</a></li>

<li class="toctree-l2"><a class="reference internal" href="double-bottleneck.html">Movement through Bottlenecks</a></li>

<li class="toctree-l2"><a class="reference internal" href="journey.html">How to work with Journeys</a></li>

<li class="toctree-l2 current active"><a class="current reference internal" href="#">Lane formation in bi-directional flow</a></li>

<li class="toctree-l2"><a class="reference internal" href="motivation.html">Modelling Motivation</a></li>

<li class="toctree-l2"><a class="reference internal" href="queues_waiting.html">Waiting in Queues</a></li>

<li class="toctree-l2"><a class="reference internal" href="routing.html">How Route Choice can Impact Evacuation Times</a></li>

<li class="toctree-l2"><a class="reference internal" href="single-file.html">Simulating Single-File Movement</a></li>

</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/jupedsim/index.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citation/citation.html">Cite JuPedSim</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script></div>
      
        <div class="header-article-item"><button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lane formation in bi-directional flow</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Lane formation in bi-directional flow</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definition-of-the-simulation-scenarios">Definition of the simulation scenarios</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialisation-of-the-simulation-and-distribution-of-agents">Initialisation of the simulation and distribution of agents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-simulations">Running simulations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisation-of-the-simulation-results">Visualisation of the simulation results</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#voronoi-based-measurements">Voronoi-based measurements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#density">Density</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#speed">Speed</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evacuation-time-vs-ratios">Evacuation time vs Ratios</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion-of-results">Discussion of results</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#download">Download</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">jupedsim</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">jps</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pedpy</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely</span><span class="w"> </span><span class="kn">import</span> <span class="n">Polygon</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</details>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="lane-formation-in-bi-directional-flow">
<h1>Lane formation in bi-directional flow<a class="headerlink" href="#lane-formation-in-bi-directional-flow" title="Link to this heading">#</a></h1>
<p>This notebook can be directly downloaded <a class="reference download internal" download="" href="../_downloads/beeb4f3a18dabee4c5eefe92c10dac46/lane-formation.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a> to run it locally.</p>
<p>Lane formation is a quantitative phenomenon, that is observed in bidirectional pedestrian flows. It involves pedestrians automatically forming a number of lanes with varying widths, where individuals within each lane move in the same direction. This self-organizing behavior of pedestrians can have a significant impact on overall evacuation time.</p>
<p>In this example, we will replicate a simple experiment performed by <a class="reference external" href="https://doi.org/10.1103/PhysRevE.94.032304">Feliciani et al 2016</a>.
In their experiment, Feliciani et al observed bidirectional pedestrian flow in a corridor with two comparative lanes in each flow direction. Thereby, they changed the ratio of both groups of pedestrians Flow ratio is changed by changing each group size while maintaining comparable total flow and density.</p>
<p><img alt="" src="../_images/lane_formation.png" /></p>
<p>The following is the implementation of the experiment setup in JuPedSim:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">length</span> <span class="o">=</span> <span class="mi">38</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">area</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">length</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">]]</span>
<span class="n">exit_polygon_left</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">)]</span>
<span class="n">exit_polygon_right</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span>
    <span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">distribution_polygon_left</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="n">width</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">]])</span>
<span class="n">distribution_polygon_right</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span>
    <span class="p">[[</span><span class="n">length</span> <span class="o">-</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">length</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">],</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span> <span class="n">width</span><span class="p">]]</span>
<span class="p">)</span>
<span class="n">measurement_area</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">MeasurementArea</span><span class="p">([[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="n">measurement_line_left</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">MeasurementLine</span><span class="p">([[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="n">width</span><span class="p">]])</span>
<span class="n">measurement_line_right</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">MeasurementLine</span><span class="p">([[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="n">width</span><span class="p">]])</span>
<span class="n">walkable_area</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">WalkableArea</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">pedpy</span><span class="o">.</span><span class="n">plot_measurement_setup</span><span class="p">(</span>
    <span class="n">walkable_area</span><span class="o">=</span><span class="n">walkable_area</span><span class="p">,</span>
    <span class="n">measurement_areas</span><span class="o">=</span><span class="p">[</span><span class="n">measurement_area</span><span class="p">],</span>
    <span class="n">measurement_lines</span><span class="o">=</span><span class="p">[</span><span class="n">measurement_line_left</span><span class="p">,</span> <span class="n">measurement_line_right</span><span class="p">],</span>
    <span class="n">ml_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
    <span class="n">ml_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">polygon</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
    <span class="p">[</span><span class="n">distribution_polygon_left</span><span class="p">,</span> <span class="n">distribution_polygon_right</span><span class="p">]</span>
<span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">xy</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="n">polygon</span><span class="o">.</span><span class="n">centroid</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
        <span class="n">centroid</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
        <span class="n">centroid</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;Start </span><span class="si">{</span><span class="nb">id</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7bd67288bc94ddc0fdbeab27fece2ffa2665bb430c1af015985be769b25ad55d.png" src="../_images/7bd67288bc94ddc0fdbeab27fece2ffa2665bb430c1af015985be769b25ad55d.png" />
</div>
</div>
<section id="definition-of-the-simulation-scenarios">
<h2>Definition of the simulation scenarios<a class="headerlink" href="#definition-of-the-simulation-scenarios" title="Link to this heading">#</a></h2>
<p>Since the main focus of the abovementioned experiment was on investigating the influence of the ratio, we will set up different scenarios to investigate the variation of the density in the measurement area with varying ratios.</p>
<p>In order to compare the formation of lanes and evacuation times, we will replicate the setup used in the experiment. This involves creating a corridor with two lanes in each direction of flow. We will use different simulation scenarios by initializing various combinations of ratios and densities. These scenarios include unidirectional flow, unbalanced bidirectional flows, and a balanced bidirectional flow scenario.</p>
<p>This replication study aims to investigate the impact of lane formation on evacuation time in different scenarios of bidirectional pedestrian flows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">simulations</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">COLUMNS</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">number_agents</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">,</span> <span class="mi">0</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">,</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">COLUMNS</span><span class="p">),</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">number_agents</span><span class="p">:</span>
    <span class="n">trajectory_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;trajectories_number_agents_</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">.sqlite&quot;</span>
    <span class="n">simulation</span> <span class="o">=</span> <span class="n">jps</span><span class="o">.</span><span class="n">Simulation</span><span class="p">(</span>
        <span class="n">dt</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="n">model</span><span class="o">=</span><span class="n">jps</span><span class="o">.</span><span class="n">CollisionFreeSpeedModel</span><span class="p">(</span>
            <span class="n">strength_neighbor_repulsion</span><span class="o">=</span><span class="mf">2.6</span><span class="p">,</span>
            <span class="n">range_neighbor_repulsion</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
            <span class="n">range_geometry_repulsion</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">geometry</span><span class="o">=</span><span class="n">walkable_area</span><span class="o">.</span><span class="n">polygon</span><span class="p">,</span>
        <span class="n">trajectory_writer</span><span class="o">=</span><span class="n">jps</span><span class="o">.</span><span class="n">SqliteTrajectoryWriter</span><span class="p">(</span>
            <span class="n">output_file</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">trajectory_file</span><span class="p">),</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">simulations</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">simulation</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="initialisation-of-the-simulation-and-distribution-of-agents">
<h2>Initialisation of the simulation and distribution of agents<a class="headerlink" href="#initialisation-of-the-simulation-and-distribution-of-agents" title="Link to this heading">#</a></h2>
<p>The simulation will commence by assigning a specific number of pedestrian agents.
These agents will be distributed randomly across the corridor using two distinct distribution polygons, deviating from Feliciani’s paper where participants were positioned on predetermined grid points.</p>
<p>The simulation will then proceed with initializing the journeys of each agent.
Left-facing groups will opt to exit through the right door, while right-facing groups will choose to exit through the left door.</p>
<p>For further analysis, it is essential to keep record of the identification numbers of agents belonging to different groups throughout their distribution process.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">right_wing</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">left_wing</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">simulation</span> <span class="ow">in</span> <span class="n">simulations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">exits</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">simulation</span><span class="o">.</span><span class="n">add_exit_stage</span><span class="p">(</span><span class="n">exit_polygon_left</span><span class="p">),</span>
        <span class="n">simulation</span><span class="o">.</span><span class="n">add_exit_stage</span><span class="p">(</span><span class="n">exit_polygon_right</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">journeys</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">simulation</span><span class="o">.</span><span class="n">add_journey</span><span class="p">(</span><span class="n">jps</span><span class="o">.</span><span class="n">JourneyDescription</span><span class="p">([</span><span class="n">exit</span><span class="p">]))</span> <span class="k">for</span> <span class="n">exit</span> <span class="ow">in</span> <span class="n">exits</span>
    <span class="p">]</span>

    <span class="c1"># first group</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">jps</span><span class="o">.</span><span class="n">distribute_by_number</span><span class="p">(</span>
        <span class="n">polygon</span><span class="o">=</span><span class="n">distribution_polygon_right</span><span class="p">,</span>
        <span class="n">number_of_agents</span><span class="o">=</span><span class="n">number</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">distance_to_agents</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
        <span class="n">distance_to_polygon</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
        <span class="n">seed</span><span class="o">=</span><span class="mi">45131502</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">group1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">simulation</span><span class="o">.</span><span class="n">add_agent</span><span class="p">(</span>
                <span class="n">jps</span><span class="o">.</span><span class="n">CollisionFreeSpeedModelAgentParameters</span><span class="p">(</span>
                    <span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span>
                    <span class="n">journey_id</span><span class="o">=</span><span class="n">journeys</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">stage_id</span><span class="o">=</span><span class="n">exits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">positions</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># second group</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">jps</span><span class="o">.</span><span class="n">distribute_by_number</span><span class="p">(</span>
        <span class="n">polygon</span><span class="o">=</span><span class="n">distribution_polygon_left</span><span class="p">,</span>
        <span class="n">number_of_agents</span><span class="o">=</span><span class="n">number</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">distance_to_agents</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
        <span class="n">distance_to_polygon</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
        <span class="n">seed</span><span class="o">=</span><span class="mi">45131502</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">group2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">simulation</span><span class="o">.</span><span class="n">add_agent</span><span class="p">(</span>
                <span class="n">jps</span><span class="o">.</span><span class="n">CollisionFreeSpeedModelAgentParameters</span><span class="p">(</span>
                    <span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span>
                    <span class="n">journey_id</span><span class="o">=</span><span class="n">journeys</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">stage_id</span><span class="o">=</span><span class="n">exits</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">positions</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">right_wing</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">group1</span>
    <span class="n">left_wing</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">group2</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="running-simulations">
<h2>Running simulations<a class="headerlink" href="#running-simulations" title="Link to this heading">#</a></h2>
<p>Now we will run series of simulations, for different ratio values (here defined by numbers of agents in both groups).</p>
<p>For each simulation, it runs the simulation until either all agents have finished or a maximum iteration count is reached.</p>
<p>Once a simulation completes, its results are saved to a uniquely named file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trajectory_files</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">simulation</span> <span class="ow">in</span> <span class="n">simulations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">while</span> <span class="n">simulation</span><span class="o">.</span><span class="n">agent_count</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">simulation</span><span class="o">.</span><span class="n">iteration_count</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">3000</span><span class="p">:</span>
        <span class="n">simulation</span><span class="o">.</span><span class="n">iterate</span><span class="p">()</span>

    <span class="n">trajectory_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;trajectories_number_agents_</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">.sqlite&quot;</span>
    <span class="n">trajectory_files</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">trajectory_file</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisation-of-the-simulation-results">
<h2>Visualisation of the simulation results<a class="headerlink" href="#visualisation-of-the-simulation-results" title="Link to this heading">#</a></h2>
<p>Here we visualize the movement of the agents in every simulation along with plots of the trajectories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">jupedsim.internal.notebook_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">animate</span><span class="p">,</span> <span class="n">read_sqlite_file</span>

<span class="n">agent_trajectories</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">number_agents</span><span class="p">:</span>
    <span class="n">trajectory_file</span> <span class="o">=</span> <span class="n">trajectory_files</span><span class="p">[</span><span class="n">number</span><span class="p">]</span>
    <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">walkable_area</span> <span class="o">=</span> <span class="n">read_sqlite_file</span><span class="p">(</span>
        <span class="n">trajectory_file</span>
    <span class="p">)</span>
    <span class="n">animate</span><span class="p">(</span>
        <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
        <span class="n">walkable_area</span><span class="p">,</span>
        <span class="n">every_nth_frame</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
        <span class="n">title_note</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Ratio: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">:</span><span class="s2">0.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
    <span class="n">nrows</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">number_agents</span><span class="p">),</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">number_agents</span><span class="p">):</span>
    <span class="n">trajectories</span> <span class="o">=</span> <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
    <span class="k">for</span> <span class="n">ig</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">left_wing</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">right_wing</span><span class="p">[</span><span class="n">number</span><span class="p">]]):</span>
        <span class="n">traj</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">TrajectoryData</span><span class="p">(</span>
            <span class="n">trajectories</span><span class="p">[</span><span class="n">trajectories</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group</span><span class="p">)],</span>
            <span class="n">frame_rate</span><span class="o">=</span><span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="o">.</span><span class="n">frame_rate</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">pedpy</span><span class="o">.</span><span class="n">plot_trajectories</span><span class="p">(</span>
            <span class="n">traj</span><span class="o">=</span><span class="n">traj</span><span class="p">,</span>
            <span class="n">walkable_area</span><span class="o">=</span><span class="n">walkable_area</span><span class="p">,</span>
            <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
            <span class="n">traj_color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">ig</span><span class="p">],</span>
            <span class="n">traj_width</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
            <span class="n">traj_start_marker</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ratio: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7829ce0a49988a8cf2aef3dafc89c3358e6d65fd8b45d887bba9eff97258a431.png" src="../_images/7829ce0a49988a8cf2aef3dafc89c3358e6d65fd8b45d887bba9eff97258a431.png" />
</div>
</div>
<section id="voronoi-based-measurements">
<h3>Voronoi-based measurements<a class="headerlink" href="#voronoi-based-measurements" title="Link to this heading">#</a></h3>
<p>Although the same total number of agents is simulated in all scenarios, the density in the middle of the corridor (within the measurement area) can still vary depending on the ratio of the distribution of agents within the simulation.</p>
<p>Therefore, here will will be calculating the density within the measurement are using the Voronoi method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">individual</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">density_voronoi</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">number_agents</span><span class="p">:</span>
    <span class="n">individual</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_individual_voronoi_polygons</span><span class="p">(</span>
        <span class="n">traj_data</span><span class="o">=</span><span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">walkable_area</span><span class="o">=</span><span class="n">walkable_area</span>
    <span class="p">)</span>
    <span class="n">density_voronoi</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">intersecting</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_voronoi_density</span><span class="p">(</span>
        <span class="n">individual_voronoi_data</span><span class="o">=</span><span class="n">individual</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
        <span class="n">measurement_area</span><span class="o">=</span><span class="n">measurement_area</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="density">
<h3>Density<a class="headerlink" href="#density" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">density_voronoi_</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">number_agents</span><span class="p">:</span>
    <span class="n">individual</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_individual_voronoi_polygons</span><span class="p">(</span>
        <span class="n">traj_data</span><span class="o">=</span><span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">walkable_area</span><span class="o">=</span><span class="n">walkable_area</span>
    <span class="p">)</span>
    <span class="n">density_voronoi</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">intersecting</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_voronoi_density</span><span class="p">(</span>
        <span class="n">individual_voronoi_data</span><span class="o">=</span><span class="n">individual</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
        <span class="n">measurement_area</span><span class="o">=</span><span class="n">measurement_area</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig0</span><span class="p">,</span> <span class="n">ax0</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;axes.prop_cycle&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">by_key</span><span class="p">()[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">number_agents</span><span class="p">):</span>
    <span class="n">pedpy</span><span class="o">.</span><span class="n">plot_density</span><span class="p">(</span>
        <span class="n">density</span><span class="o">=</span><span class="n">density_voronoi</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ratio: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/867be5d266038e65812a772920bc5265ad00186f0dffe9acebfbfb05267303b4.png" src="../_images/867be5d266038e65812a772920bc5265ad00186f0dffe9acebfbfb05267303b4.png" />
</div>
</div>
</section>
<section id="speed">
<h3>Speed<a class="headerlink" href="#speed" title="Link to this heading">#</a></h3>
<p>For the speed time series we will differenciate between the two groups.</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">speed_r</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">speed_l</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">mean_speed_r</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">mean_speed_l</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">number_agents</span><span class="p">:</span>
    <span class="n">traj</span> <span class="o">=</span> <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span>
    <span class="n">fps</span> <span class="o">=</span> <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="o">.</span><span class="n">frame_rate</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">traj</span><span class="o">.</span><span class="n">data</span>
    <span class="n">group1</span> <span class="o">=</span> <span class="n">left_wing</span><span class="p">[</span><span class="n">number</span><span class="p">]</span>
    <span class="n">group2</span> <span class="o">=</span> <span class="n">right_wing</span><span class="p">[</span><span class="n">number</span><span class="p">]</span>
    <span class="n">df_r</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group2</span><span class="p">)]</span>
    <span class="n">df_l</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">group1</span><span class="p">)]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">df_r</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">df_r</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">TrajectoryData</span><span class="p">(</span><span class="n">df_r</span><span class="p">,</span> <span class="n">fps</span><span class="p">)</span>
        <span class="n">speed_r</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_individual_speed</span><span class="p">(</span>
            <span class="n">frame_step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">movement_direction</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">traj_data</span><span class="o">=</span><span class="n">df_r</span><span class="p">,</span>
            <span class="n">compute_velocity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">speed_calculation</span><span class="o">=</span><span class="n">pedpy</span><span class="o">.</span><span class="n">SpeedCalculation</span><span class="o">.</span><span class="n">BORDER_SINGLE_SIDED</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mean_speed_r</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_mean_speed_per_frame</span><span class="p">(</span>
            <span class="n">traj_data</span><span class="o">=</span><span class="n">df_r</span><span class="p">,</span>
            <span class="n">measurement_area</span><span class="o">=</span><span class="n">measurement_area</span><span class="p">,</span>
            <span class="n">individual_speed</span><span class="o">=</span><span class="n">speed_r</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">df_l</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">df_l</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">TrajectoryData</span><span class="p">(</span><span class="n">df_l</span><span class="p">,</span> <span class="n">fps</span><span class="p">)</span>
        <span class="n">speed_l</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_individual_speed</span><span class="p">(</span>
            <span class="n">frame_step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">movement_direction</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">traj_data</span><span class="o">=</span><span class="n">df_l</span><span class="p">,</span>
            <span class="n">compute_velocity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">speed_calculation</span><span class="o">=</span><span class="n">pedpy</span><span class="o">.</span><span class="n">SpeedCalculation</span><span class="o">.</span><span class="n">BORDER_SINGLE_SIDED</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mean_speed_l</span><span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">pedpy</span><span class="o">.</span><span class="n">compute_mean_speed_per_frame</span><span class="p">(</span>
            <span class="n">traj_data</span><span class="o">=</span><span class="n">df_l</span><span class="p">,</span>
            <span class="n">measurement_area</span><span class="o">=</span><span class="n">measurement_area</span><span class="p">,</span>
            <span class="n">individual_speed</span><span class="o">=</span><span class="n">speed_l</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig0</span><span class="p">,</span> <span class="p">((</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">),</span> <span class="p">(</span><span class="n">ax3</span><span class="p">,</span> <span class="n">ax4</span><span class="p">))</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
    <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">ax3</span><span class="p">,</span> <span class="n">ax4</span><span class="p">]</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">number_agents</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">mean_speed_r</span><span class="p">:</span>
        <span class="n">pedpy</span><span class="o">.</span><span class="n">plot_speed</span><span class="p">(</span>
            <span class="n">speed</span><span class="o">=</span><span class="n">mean_speed_r</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
            <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Mean speed. Ratio: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">pedpy</span><span class="o">.</span><span class="n">PEDPY_BLUE</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">mean_speed_l</span><span class="p">:</span>
        <span class="n">pedpy</span><span class="o">.</span><span class="n">plot_speed</span><span class="p">(</span>
            <span class="n">speed</span><span class="o">=</span><span class="n">mean_speed_l</span><span class="p">[</span><span class="n">number</span><span class="p">],</span>
            <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Mean speed. Ratio: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">pedpy</span><span class="o">.</span><span class="n">PEDPY_RED</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;Left group&quot;</span><span class="p">,</span> <span class="s2">&quot;Right group&quot;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/d80fd86f64f5d01a6c7dc291a42d0130f32cf1a4ca0b66ed5024990c64b3b4c4.png" src="../_images/d80fd86f64f5d01a6c7dc291a42d0130f32cf1a4ca0b66ed5024990c64b3b4c4.png" />
</div>
</div>
</section>
</section>
<section id="evacuation-time-vs-ratios">
<h2>Evacuation time vs Ratios<a class="headerlink" href="#evacuation-time-vs-ratios" title="Link to this heading">#</a></h2>
<p>From the observed increase of the density with increasing ratio, we expect that the evacuation time will increase as well. Again, due to the poor handling of conflicts in narrow space, the agents from both groups tend to clog in the middle of the corridor.</p>
<div class="cell tag_hide-input docutils container">
<details class="admonition hide above-input">
<summary aria-label="Toggle hidden content">
<p class="collapsed admonition-title">Show code cell source</p>
<p class="expanded admonition-title">Hide code cell source</p>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">evac_times</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">number_agents</span><span class="p">):</span>
    <span class="n">trajectories</span> <span class="o">=</span> <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
    <span class="n">fps</span> <span class="o">=</span> <span class="n">agent_trajectories</span><span class="p">[</span><span class="n">number</span><span class="p">]</span><span class="o">.</span><span class="n">frame_rate</span>
    <span class="n">evac_time</span> <span class="o">=</span> <span class="n">trajectories</span><span class="p">[</span><span class="s2">&quot;frame&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">/</span> <span class="n">fps</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="n">evac_times</span><span class="p">[</span><span class="n">ratio</span><span class="p">]</span> <span class="o">=</span> <span class="n">evac_time</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">evac_times</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">list</span><span class="p">(</span><span class="n">evac_times</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="s2">&quot;o--&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Ratio&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Evactime [s]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../_images/d50a2a892da54299bc9e25f2063f190e6bb61ee2fafbd9aedf2c53f61a7a4fb1.png" src="../_images/d50a2a892da54299bc9e25f2063f190e6bb61ee2fafbd9aedf2c53f61a7a4fb1.png" />
</div>
</div>
</section>
<section id="discussion-of-results">
<h2>Discussion of results<a class="headerlink" href="#discussion-of-results" title="Link to this heading">#</a></h2>
<p>As we might expect, the is highest for balanced ratio, which is an indicator of high number of unsolved conflicts.</p>
<p>This is expected because the used model is known for not handling lane simulations very well dure to poor conflict resolution. See <a class="reference external" href="https://doi.org/10.1016/j.trc.2021.103464">Xu2021</a>, where a simplified collision-free velocity model that anticipates collisions is presented. This updated model diminishes gridlock events and offers a more accurate depiction of pedestrian movements compared to the previous version.</p>
<p>The following result show mainly that a <strong>balanced ratio</strong> lead in the simulation to <strong>higher densities</strong> and more conflicts that remain mainly unsolved. This in turns is reflected in <strong>higher evacuation times</strong>.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="download">
<h1>Download<a class="headerlink" href="#download" title="Link to this heading">#</a></h1>
<p>This notebook can be directly downloaded <a class="reference download internal" download="" href="../_downloads/beeb4f3a18dabee4c5eefe92c10dac46/lane-formation.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a> to run it locally.</p>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="journey.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">How to work with Journeys</p>
      </div>
    </a>
    <a class="right-next"
       href="motivation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modelling Motivation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Lane formation in bi-directional flow</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#definition-of-the-simulation-scenarios">Definition of the simulation scenarios</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initialisation-of-the-simulation-and-distribution-of-agents">Initialisation of the simulation and distribution of agents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-simulations">Running simulations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisation-of-the-simulation-results">Visualisation of the simulation results</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#voronoi-based-measurements">Voronoi-based measurements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#density">Density</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#speed">Speed</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evacuation-time-vs-ratios">Evacuation time vs Ratios</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion-of-results">Discussion of results</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#download">Download</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Forschungszentrum Jülich GmbH, IAS-7.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>